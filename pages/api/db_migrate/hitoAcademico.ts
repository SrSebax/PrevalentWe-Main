import prisma from "config/prisma";
const hitosAcademicos = [
  {
    useris: 10,
    cvId: "cklitfvgq0838tcffeathxm25",
    from: "2015/02/20",
    to: "2015/12/12",
    titulo: "Especialista en Responsabilidad Social Empresarial",
    programaId: 1869,
    institucionId: 2732,
  },
  {
    useris: 13,
    cvId: "cklitg7wy1969tcfftyavd8i2",
    from: "2012/02/01",
    to: "2016/11/30",
    titulo: "Economista con énfasis en Finanzas",
    programaId: 288,
    institucionId: 2691,
  },
  {
    useris: 14,
    cvId: "cklitfvtj0987tcffyefixjce",
    from: "1996/06/15",
    to: "2003/06/15",
    titulo: "Abogado",
    programaId: 154,
    institucionId: 2747,
  },
  {
    useris: 19,
    cvId: "cklitfvb90777tcff23842heg",
    from: "1998/01/19",
    to: "2004/10/08",
    titulo: "Administrador de Empresas",
    programaId: 15,
    institucionId: 2740,
  },
  {
    useris: 22,
    cvId: "cklitfvdw0798tcffgo84dbce",
    from: "1995/01/16",
    to: "1999/12/10",
    titulo: "Profesional",
    programaId: 86,
    institucionId: 2739,
  },
  {
    useris: 22,
    cvId: "cklitfvdw0798tcffgo84dbce",
    from: "2007/10/01",
    to: "2009/12/25",
    titulo: "Licenciado en Teología",
    programaId: 2382,
    institucionId: 2705,
  },
  {
    useris: 27,
    cvId: "cklitft5s0089tcffbqlr2yzz",
    from: "1996/07/31",
    to: "2003/12/03",
    titulo: "Profesional en Mercadeo",
    programaId: 3001,
    institucionId: 2688,
  },
  {
    useris: 27,
    cvId: "cklitft5s0089tcffbqlr2yzz",
    from: "2012/01/03",
    to: "2013/12/06",
    titulo: "Especialización en Dirección de Organizaciones",
    programaId: 801,
    institucionId: 2780,
  },
  {
    useris: 28,
    cvId: "cklitcybf03695kfft4kp2xu8",
    from: "2015/03/13",
    to: "2016/11/22",
    titulo: "Abogada",
    programaId: 1340,
    institucionId: 2732,
  },
  {
    useris: 28,
    cvId: "cklitcybf03695kfft4kp2xu8",
    from: "2000/08/08",
    to: "2005/12/07",
    titulo: "Abogada",
    programaId: 154,
    institucionId: 2754,
  },
  {
    useris: 28,
    cvId: "cklitcybf03695kfft4kp2xu8",
    from: "2007/02/05",
    to: "2007/12/07",
    titulo: "Abogada",
    programaId: 712,
    institucionId: 2754,
  },
  {
    useris: 25,
    cvId: "cklitcybf03715kffnv3flflx",
    from: "1992/07/13",
    to: "1998/07/18",
    titulo: "Abogado",
    programaId: 154,
    institucionId: 2773,
  },
  {
    useris: 25,
    cvId: "cklitcybf03715kffnv3flflx",
    from: "2001/01/15",
    to: "2002/08/17",
    titulo: "Especialista en Finanzas Corporativas",
    programaId: 1007,
    institucionId: 2703,
  },
  {
    useris: 26,
    cvId: "cklitg8332011tcffdib312x4",
    from: "2020/01/29",
    to: "",
    titulo: "Especialista en Administración Financiera",
    programaId: 419,
    institucionId: 2717,
  },
  {
    useris: 26,
    cvId: "cklitg8332011tcffdib312x4",
    from: "2019/01/25",
    to: "2019/11/30",
    titulo:
      "Especialista en Formulación y Evaluación Social y Económica de Proyectos",
    programaId: 1022,
    institucionId: 2717,
  },
  {
    useris: 26,
    cvId: "cklitg8332011tcffdib312x4",
    from: "2010/07/01",
    to: "2017/06/30",
    titulo: "Profesional en Comercio Internacional",
    programaId: 125,
    institucionId: 2692,
  },
  {
    useris: 31,
    cvId: "cklitcvvo00185kffmeluft3i",
    from: "2009/02/01",
    to: "2015/10/05",
    titulo: "Ecólogo",
    programaId: 286,
    institucionId: 2706,
  },
  {
    useris: 38,
    cvId: "cklitfv1m0661tcffynl352k8",
    from: "2012/09/07",
    to: "",
    titulo: "Maestría en Mercadeo",
    programaId: 2865,
    institucionId: 2747,
  },
  {
    useris: 38,
    cvId: "cklitfv1m0661tcffynl352k8",
    from: "2007/03/17",
    to: "",
    titulo: "Ingeniero Eléctrico",
    programaId: 2151,
    institucionId: 2747,
  },
  {
    useris: 38,
    cvId: "cklitfv1m0661tcffynl352k8",
    from: "2007/03/17",
    to: "",
    titulo: "Ingeniero Electrónico",
    programaId: 2153,
    institucionId: 2747,
  },
  {
    useris: 48,
    cvId: "cklitcxwq02715kffqbp5hl0x",
    from: "2016/01/13",
    to: "",
    titulo: "Licenciada en lenguas extranjeras",
    programaId: 2209,
    institucionId: 2767,
  },
  {
    useris: 52,
    cvId: "cklitcw5k00425kff1fnl94go",
    from: "2020/01/27",
    to: "",
    titulo: "Licenciatura en pedagogía infantil",
    programaId: 2210,
    institucionId: 2767,
  },
  {
    useris: 51,
    cvId: "cklitfu0n0279tcff50t19emv",
    from: "2017/02/13",
    to: "",
    titulo: "Psicóloga",
    programaId: 3052,
    institucionId: 2752,
  },
  {
    useris: 61,
    cvId: "cklitfvvn1007tcffqlbta8eh",
    from: "2014/08/04",
    to: "2020/06/01",
    titulo: "Economista",
    programaId: 288,
    institucionId: 2776,
  },
  {
    useris: 61,
    cvId: "cklitfvvn1007tcffqlbta8eh",
    from: "2017/02/06",
    to: "",
    titulo: "Profesional en Mercadeo",
    programaId: 3001,
    institucionId: 2776,
  },
  {
    useris: 64,
    cvId: "cklitg5j31163tcffl70kdnrw",
    from: "2018/09/24",
    to: "2019/09/30",
    titulo: "MSc Textiles",
    programaId: 2465,
    institucionId: 8437,
  },
  {
    useris: 64,
    cvId: "cklitg5j31163tcffl70kdnrw",
    from: "2011/07/11",
    to: "2016/06/30",
    titulo: "Bioingeniero",
    programaId: 93,
    institucionId: 2745,
  },
  {
    useris: 67,
    cvId: "cklitg5eu1126tcffkpuk313q",
    from: "2013/06/13",
    to: "2020/04/30",
    titulo: "Ingeniero Mecánico",
    programaId: 2182,
    institucionId: 2754,
  },
];
const DBMigrate = async (req, res) => {
  if (req.method === "GET") {
    const errores = [];
    await hitosAcademicos.forEach(async (hito) => {
      try {
        await prisma.hitoAcademico.create({
          data: {
            titulo: hito.titulo,
            fechaInicio: new Date(hito.from),
            fechaFin: new Date(hito.to),
            cv: {
              connect: {
                id: hito.cvId,
              },
            },
            institucion: {
              connect: {
                id: hito.institucionId,
              },
            },
            programa: {
              connect: {
                id: hito.programaId,
              },
            },
          },
        });
      } catch {
        errores.push(hito);
      }
    });
    return res.status(200).json({ errores });
  }
};

export default DBMigrate;
